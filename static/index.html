<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>World of Warships Statistics</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
  <link rel="stylesheet" href="css/app.css">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
  <script src="js/app.js"></script>
</head>
<body ng-app="wows-stats">
  <div class="wrapper">
  	<div class="content" ng-controller="TeamStatsCtrl">
	  	<h1 ng-hide="inGame">No active game</h1>
	  	<div class="stats" ng-show="players.length>0">
	  	  <h1><span class="hint" ng-hide="inGame">Last game: </span>{{ data.mapDisplayName }}</h1>
	  	  <h2>{{ data.gameLogic }}</h2>
	  	  <div class="teams">
          <div id="friendly" class="team">
            <h3>Our Team</h3>
  	      	<div class="player">
              <table>
                <tr>
                    <th>name</th>
                    <th>tier</th>
                    <th>type</th>
                    <th>ship</th>
                    <th>WinRate</th>
                    <th>aveDMG</th>
                    <th>K/D</th>
                    <th>Battles</th>
                    <th>Player WinRate</th>
                    <th>Player AveDMG</th>
                    <th>Player K/D</th>
                    <th>Player Battles</th>
                </tr>
                <tr ng-repeat="(key, value) in players" ng-if="value.relation!=2">
    	      		    <td class="name"><a href="http://worldofwarships.com/en/community/accounts/{{ value.uri }}/" target="_blank">{{value.name}}</a></td>
                    <td class="ship">
                      <div class="value">{{ value.ship.tier }}</div>
                    </td>
                    <td class="ship">
                      <div class="value">{{ value.ship.type }}</div>
                    </td>
                    <td class="ship">
                      <div class="key">{{value.ship.name}}</div>
                      <div class="value" ng-show="value.ship.err">{{ value.ship.err }}</div>
                    </td>
                    <td>
                      <div class="data" ng-hide="value.ship.err">
                        <span class="value {{value.ship.winRateClass}}">{{value.ship.winRate}}</span>
                      </div>
                    </td>
                    <td>
                      <div class="data" ng-hide="value.ship.err">
                        <span class="value">{{value.ship.avgDmg}}</span>
                      </div>
                    </td>
                    <td>
                      <div class="data" ng-hide="value.ship.err">
                        <span class="value">{{value.ship.kdRatio}}</span>
                      </div>
                    </td>
                    <td>
                      <div class="data" ng-hide="value.ship.err">
                        <span class="value">{{value.ship.battles}}</span>
                      </div>
                    </td>
                    <span class="overall">
                      <span class="value" ng-show="value.err">{{ value.err }}</span>
                      <td>
                        <div class="data" ng-hide="value.err">
                          <span class="value {{value.winRateClass}}">{{value.winRate}}</span>
                        </div>
                      </td>
                      <td>
                        <div class="data" ng-hide="value.err">
                          <span class="value">{{value.avgDmg}}</span>
                        </div>
                      </td>
                      <td>
                        <div class="data" ng-hide="value.err">
                          <span class="value">{{value.kdRatio}}</span>
                        </div>
                      </td>
                      <td>
                        <div class="data" ng-hide="value.err">
                          <span class="value">{{value.battles}}</span>
                        </div>
                      </td>
                    </span>
                    <!-- .overall -->
  	  	      	</tr>
  	  	      </table>
            </div>
            <!-- .player -->
	  	    </div>
          <!-- #friendly -->
	  	    <div id="foe" class="team">
	  	      <h3>Enemy Team</h3>
      		  <div class="player">
              <table>
                <tr>
                  <th>name</th>
                  <th>tier</th>
                  <th>type</th>
                  <th>ship</th>
                  <th>WinRate</th>
                  <th>aveDMG</th>
                  <th>K/D</th>
                  <th>Battles</th>
                  <th>Player WinRate</th>
                  <th>Player AveDMG</th>
                  <th>Player K/D</th>
                  <th>Player Battles</th>
                </tr>
                <tr ng-repeat="(key, value) in players" ng-if="value.relation==2">
                  <td class="name"><a href="http://worldofwarships.com/en/community/accounts/{{ value.uri }}/" target="_blank">{{value.name}}</a></td>
                  <td class="ship">
                    <div class="value">{{ value.ship.tier }}</div>
                  </td>
                  <td class="ship">
                    <div class="value">{{ value.ship.type }}</div>
                  </td>
                  <td class="ship">
                    <div class="key">{{value.ship.name}}</div>
                    <div class="value" ng-show="value.ship.err">{{ value.ship.err }}</div>
                  </td>
                  <td>
                      <div class="data" ng-hide="value.ship.err">
                        <span class="value {{value.ship.winRateClass}}">{{value.ship.winRate}}</span>
                      </div>
                  </td>
                  <td>
                    <div class="data" ng-hide="value.ship.err">
                        <span class="value">{{value.ship.avgDmg}}</span>
                    </div>
                  </td>
                  <td>
                    <div class="data" ng-hide="value.ship.err">
                        <span class="value">{{value.ship.kdRatio}}</span>
                    </div>
                  </td>
                  <td>
                    <div class="data" ng-hide="value.ship.err">
                        <span class="value">{{value.ship.battles}}</span>
                    </div>
                  </td>
                  <span class="overall">
                    <span class="value" ng-show="value.err">{{ value.err }}</span>
                    <td>
                        <div class="data" ng-hide="value.err">
                          <span class="value {{value.winRateClass}}">{{value.winRate}}</span>
                        </div>
                    </td>
                    <td>
                      <div class="data" ng-hide="value.err">
                        <span class="value">{{value.avgDmg}}</span>
                      </div>
                    </td>
                     <td>
                      <div class="data" ng-hide="value.err">
                       <span class="value">{{value.kdRatio}}</span>
                      </div>
                    </td>
                    <td>
                      <div class="data" ng-hide="value.err">
                        <span class="value">{{value.battles}}</span>
                      </div>
                    </td>
                  </span>
                  <!-- overall -->
  	  	      	</tr>
  	  	      </table>
	  	      </div>
            <!-- .player -->
  	      </div>
          <!-- #foe -->
	  	</div>
    </div>
    <!-- .content -->
    <div class="footer">Powered by <a href="https://github.com/tianweiliu/wows-stats">wows-stats</a></div>
  </div>
</body>
</html>